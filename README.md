# üöÄ Tilda + Supabase Auth System

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Å–∞–π—Ç–æ–≤ –Ω–∞ Tilda —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Supabase.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ —Ñ–æ—Ä–º–∞—Ö Tilda
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ–æ—Ä–º Tilda

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Tilda Forms   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Node.js API    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Supabase DB   ‚îÇ
‚îÇ  (auth-inter.)  ‚îÇ    ‚îÇ   (server.js)    ‚îÇ    ‚îÇ   (users table) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                        ‚îÇ                        ‚îÇ
         ‚ñº                        ‚ñº                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Tilda Pages    ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ  Session Store   ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÇ  User Data API  ‚îÇ
‚îÇ (user-display)  ‚îÇ    ‚îÇ  (in memory)     ‚îÇ    ‚îÇ  (REST calls)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tilda-supabase-server/
‚îú‚îÄ‚îÄ server.js                      # üñ•Ô∏è  –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (Node.js + Express)
‚îú‚îÄ‚îÄ auth-interceptor.html          # üîê –ö–æ–¥ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ user-display.html             # üë§ –ö–æ–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Zero Block
‚îú‚îÄ‚îÄ test-auth.html                # üß™ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ test-database-fields.html     # üóÑÔ∏è  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ CONFIGURATION_EXAMPLES.md     # üîß –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ DEPLOYMENT.md                 # üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ package.json                  # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                          # üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Supabase)
‚îî‚îÄ‚îÄ README.md                    # üìñ –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–°–µ—Ä–≤–µ—Ä —É–∂–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ Railway: `https://tilda-supabase-server-nodejs-20.up.railway.app`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `auth-interceptor.html`**
2. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ –±–ª–æ–∫ T123 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Tilda**
3. **–û–ø—É–±–ª–∏–∫—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

1. **–°–æ–∑–¥–∞–π—Ç–µ Zero Block —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:**
   ```html
   <div class="t-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
   <div class="t-email">Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
   <div class="t-phone">–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `user-display.html`**
3. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ –±–ª–æ–∫ T123 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –¥–∞–Ω–Ω—ã–º–∏**
4. **–û–ø—É–±–ª–∏–∫—É–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**

## üéØ API Endpoints

### `POST /auth-sync`
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
{
  "email": "user@example.com",
  "action": "login",
  "timestamp": "2024-01-01T12:00:00Z",
  "source": "tilda_form",
  "page": "https://example.com/login"
}
```

### `GET /current-user`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
{
  "success": true,
  "user": {
    "email": "user@example.com",
    "name": "–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "phone": "+996123456789"
  }
}
```

### `GET /get-user?email=user@example.com`
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
```javascript
{
  "success": true,
  "user": {
    "email": "user@example.com",
    "name": "–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "phone": "+996123456789"
  }
}
```

### `GET /user-full-data`
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
```javascript
{
  "success": true,
  "user": {
    // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "id": "uuid",
    "email": "user@example.com",
    "name": "–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "referral_code": "ABC123",
    "balance_kgs": 1500.50,
    "total_earned": 2500.00,
    
    // –ú–∞—Å—Å–∏–≤—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    "courses": [...],              // –ö—É—Ä—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "payments": [...],             // –ü–ª–∞—Ç–µ–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "referral_transactions": [...], // –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    "referral_history": [...],     // –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    "stats": {
      "total_courses": 3,
      "total_payments": 5,
      "completed_payments": 4,
      "pending_payments": 1,
      "total_referral_earnings": 750.00
    }
  }
}
```

## üóÑÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### üìä –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 5 —Ç–∞–±–ª–∏—Ü–∞–º–∏:

1. **`users`** - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **`user_courses`** - –∫—É—Ä—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
3. **`payments`** - –ø–ª–∞—Ç–µ–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. **`referral_transactions`** - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
5. **`referral_history`** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª—é–±—ã–µ –ø–æ–ª—è –∏–∑ –ª—é–±–æ–π —Ç–∞–±–ª–∏—Ü—ã.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:

#### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- `name`, `email`, `referral_code`, `balance_kgs`, `total_earned` –∏ –¥—Ä.

#### üîπ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∏–∑ –æ–±—ä–µ–∫—Ç–∞ stats):
- `stats.total_courses`, `stats.total_payments`, `stats.completed_payments` –∏ –¥—Ä.

#### üîπ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–∞—Ö:
- `courses.length`, `payments.length`, `referral_transactions.length` –∏ –¥—Ä.

#### üîπ –î–∞–Ω–Ω—ã–µ –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏):
- `payments.0.amount` - —Å—É–º–º–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- `payments.0.status` - —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- `referral_transactions.0.amount` - —Å—É–º–º–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ USER_ELEMENTS –¥–ª—è Zero Block

–í —Ñ–∞–π–ª–µ `user-display.html` –Ω–∞–π–¥–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–±—ä–µ–∫—Ç `USER_ELEMENTS` –ø–æ–¥ –≤–∞—à Zero Block:

```javascript
const USER_ELEMENTS = {
    // –§–æ—Ä–º–∞—Ç: 'CSS —Å–µ–ª–µ–∫—Ç–æ—Ä': '–ø–æ–ª–µ_–∏–∑_–±–∞–∑—ã_–¥–∞–Ω–Ω—ã—Ö'
    
    // –ó–∞–º–µ–Ω–∏—Ç–µ rec1235790536 –Ω–∞ ID –≤–∞—à–µ–≥–æ Zero Block:
    '#rec1235790536 .t-name': 'name',                    // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    '#rec1235790536 .t-email': 'email',                  // Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
    '#rec1235790536 .t-referral-code': 'referral_code',  // –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
    '#rec1235790536 .t-balance': 'balance_kgs',          // –ë–∞–ª–∞–Ω—Å –≤ —Å–æ–º–∞—Ö
    '#rec1235790536 .t-earned': 'total_earned',          // –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
    
    // –î–û–°–¢–£–ü–ù–´–ï –ü–û–õ–Ø –ò–ó –í–ê–®–ï–ô –ë–ê–ó–´ –î–ê–ù–ù–´–•:
    // '.user-id': 'id',                        // UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // '.user-name': 'name',                    // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // '.user-email': 'email',                  // Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // '.created-date': 'created_at',           // –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    // '.auth-uid': 'auth_uid',                 // UID –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    // '.referral-code': 'referral_code',       // –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
    // '.referred-by': 'referred_by',           // –ö–µ–º –ø—Ä–∏–≥–ª–∞—à–µ–Ω
    // '.balance': 'balance_kgs',               // –ë–∞–ª–∞–Ω—Å –≤ —Å–æ–º–∞—Ö
    // '.total-earned': 'total_earned',         // –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
    // '.level-1-refs': 'level_1_referrals',    // –†–µ—Ñ–µ—Ä–∞–ª—ã 1 —É—Ä–æ–≤–Ω—è
    // '.level-2-refs': 'level_2_referrals',    // –†–µ—Ñ–µ—Ä–∞–ª—ã 2 —É—Ä–æ–≤–Ω—è
    // '.level-3-refs': 'level_3_referrals',    // –†–µ—Ñ–µ—Ä–∞–ª—ã 3 —É—Ä–æ–≤–Ω—è
    
    // –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤:
    // '.profile .user-name': 'name',           // –í–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
    // '#user-balance': 'balance_kgs',          // –ü–æ ID
    // '[data-field="referral"]': 'referral_code', // –ü–æ –∞—Ç—Ä–∏–±—É—Ç—É
};
```

### üé® –í–∞–∂–Ω–æ: –°—Ç–∏–ª–∏ –ù–ï –∏–∑–º–µ–Ω—è—é—Ç—Å—è!

‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö**  
‚úÖ **–í—Å–µ —Å—Ç–∏–ª–∏ Zero Block –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**  
‚úÖ **–®—Ä–∏—Ñ—Ç—ã, —Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã - –≤—Å—ë –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –≤—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏**  

### üîç –ö–∞–∫ —É–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å user-display.html**
2. **–ù–∞–∂–º–∏—Ç–µ Ctrl+Shift+U** (–æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å)
3. **–ù–∞–∂–º–∏—Ç–µ "üìä –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"**
4. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)** - —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: `test-database-fields.html`

## üß™ –û—Ç–ª–∞–¥–∫–∞

### –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- –ù–∞–∂–º–∏—Ç–µ **Ctrl+Shift+A** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Ñ–æ—Ä–º

### –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
- –ù–∞–∂–º–∏—Ç–µ **Ctrl+Shift+U** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `users` –≤ Supabase:

```sql
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    name VARCHAR(255),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    auth_uid VARCHAR(255),
    referral_code VARCHAR(50) UNIQUE,
    referred_by VARCHAR(50),
    balance_kgs DECIMAL(10,2) DEFAULT 0.00,
    total_earned DECIMAL(10,2) DEFAULT 0.00,
    level_1_referrals INTEGER DEFAULT 0,
    level_2_referrals INTEGER DEFAULT 0,
    level_3_referrals INTEGER DEFAULT 0
);
```

### üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—è:
- **id** - UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **email** - Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- **name** - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **created_at** - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **auth_uid** - UID –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **referral_code** - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥
- **referred_by** - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–≥–æ
- **balance_kgs** - –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –≤ —Å–æ–º–∞—Ö
- **total_earned** - –û–±—â–∞—è —Å—É–º–º–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞
- **level_1_referrals** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 1 —É—Ä–æ–≤–Ω—è
- **level_2_referrals** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 2 —É—Ä–æ–≤–Ω—è  
- **level_3_referrals** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 3 —É—Ä–æ–≤–Ω—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–∞–º–∏ Tilda
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è email –∞–¥—Ä–µ—Å–æ–≤
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ Supabase
- ‚úÖ –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–µ –≤ cookies)

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `USER_ELEMENTS`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ –±–ª–æ–∫ T123
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞ –∏–º–µ–µ—Ç –ø–æ–ª–µ email
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Railway: https://railway.app
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL —Å–µ—Ä–≤–µ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ üîê, üë§, ‚úÖ, ‚ùå
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ (Ctrl+Shift+A/U)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–°–µ—Ä–≤–µ—Ä:** https://tilda-supabase-server-nodejs-20.up.railway.app